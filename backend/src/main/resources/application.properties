# Server Configuration
server.port=8081

# Jackson JSON Configuration (시간대 설정)
spring.jackson.time-zone=Asia/Seoul
spring.jackson.serialization.write-dates-as-timestamps=false

# PostgreSQL Database Configuration
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=jdbc:postgresql://localhost:5432/synodos?useUnicode=true&characterEncoding=UTF-8
spring.datasource.username=flow
spring.datasource.password=flow123

# SQL Init Encoding
spring.sql.init.encoding=UTF-8

# Database Initialization
# Local: always (creates tables on startup)
# Docker: overridden to 'never' via environment variable
spring.sql.init.mode=always
spring.sql.init.continue-on-error=true
spring.sql.init.schema-locations=classpath:schema.sql
# data.sql은 수동으로 필요할 때만 실행 (중복 데이터 방지)
# spring.sql.init.data-locations=classpath:data.sql

# MyBatis Configuration
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.type-aliases-package=com.example.demo.model
mybatis.configuration.map-underscore-to-camel-case=true

# JWT Configuration
jwt.secret=${JWT_SECRET:}
jwt.expiration=86400000

# CORS Configuration
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}

# ===============================
# OAuth2 Login Configuration
# Google/Naver/Kakao OAuth 설정은 application-local.properties에서 정의
# (client-id가 비어있으면 Spring Boot가 에러를 발생시킴)
# ===============================

# Email Configuration
# Environment: dev (console log) / prod (SMTP)
email.environment=prod
email.verification.code.expiry=300000
email.verification.resend.cooldown=60000

# SMTP Configuration (Gmail)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${SMTP_USERNAME:}
spring.mail.password=${SMTP_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# File Upload Configuration
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# OpenAI Configuration
openai.api.key=${OPENAI_API_KEY:}
openai.api.model=gpt-4o-mini

# GitHub Webhook Configuration
github.webhook.secret=${GITHUB_WEBHOOK_SECRET:}
github.webhook.base-url=${GITHUB_WEBHOOK_BASE_URL:https://boastful-languorously-allison.ngrok-free.dev}

# GitHub OAuth Configuration
github.oauth.client-id=${GITHUB_OAUTH_CLIENT_ID:}
github.oauth.client-secret=${GITHUB_OAUTH_CLIENT_SECRET:}

# Frontend URL (OAuth redirect)
frontend.url=${FRONTEND_URL:http://localhost:3000}
